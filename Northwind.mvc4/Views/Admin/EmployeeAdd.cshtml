@model ASPNET.Models.EmployeeAddViewModel
@{
    ViewBag.Title = "New Employee";
}


<div class="row">
    <div class='col-sm-12'>
        <ul class="breadcrumb">
            <li><a href="/">Home</a></li>
            <li><a href="/admin">Administration</a></li>
            <li><a href="/admin/employees">Employees</a></li>
            <li class="active">Add Employee</li>
        </ul>
    </div>
</div>

<div class="row">
    <div class="col-md-8">
        <div class="well">
            <!-- Blank Forms Post Back to themselves-->
            @using (Html.BeginForm("EmployeeAdd", "Admin", FormMethod.Post, new { @class = "form-horizontal", role = "form", enctype = "multipart/form-data" }))
            {
                @Html.AntiForgeryToken()

                if (!String.IsNullOrEmpty(ViewBag.Message))
                {
                    <div class='alert alert-success' role='alert'>
                        <span class='glyphicon glyphicon-ok' aria-hidden='true'></span>
                        <span class='sr-only'>Success: </span>
                        @ViewBag.Message
                    </div>
                }

                if (IsPost)
                {
                    if (!Html.ViewData.ModelState.IsValid)
                    {
                        <div class='alert alert-danger' role='alert'>
                            <span class='glyphicon glyphicon-exclamation-sign' aria-hidden='true'></span>
                            <span class='sr-only'>Error:</span>
                            @Html.ValidationSummary("")
                        </div>
                    }
                }
                <fieldset>
                    <div class="row">
                        <div class="col-sm-6">
                            <div class="form-group">
                                @Html.LabelFor(m => m.LastName, new { @class = "" })
                                @Html.TextBoxFor(m => m.LastName, new { @class = "form-control", style = "width:90%;", autocomplete = "off", placeholder = "Smith" })
                            </div>
                        </div>
                        <div class="col-sm-6">
                            <div class="form-group">
                                @Html.LabelFor(m => m.FirstName, new { @class = "" })
                                @Html.TextBoxFor(m => m.FirstName, new { @class = "form-control", style = "width:90%;", placeholder = "John" })
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-sm-6">                        
                            <div class="form-group">
                                @Html.LabelFor(m => m.Title, new { @class = "" })
                                @Html.TextBoxFor(m => m.Title, new { @class = "form-control", style = "width:90%;", placeholder = "Manager" })
                            </div>
                        </div>
                        <div class="col-sm-6">
                            <div class="form-group">
                                @Html.LabelFor(m => m.TitleOfCourtesy, new { @class = "" })
                                @Html.TextBoxFor(m => m.TitleOfCourtesy, new { @class = "form-control", style = "width:90%;", placeholder = "Mr." })
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-sm-6">
                            <div class="form-group">
                                @Html.LabelFor(m => m.ReportsTo, new { @class = "" })
                                @Html.DropDownListFor(m => m.SelectedEmployeeID, Model.Employees, new {
                                   @class = "form-control",
                                   style = "width:90%;"
                                })
                            </div>
                        </div>
                        <div class="col-sm-6">
                            <div class="form-group">
                                @Html.LabelFor(m => m.Photo, new { @class = "" })
                                <input type="file" class="form-control" style="width:80%;" id="NewPhoto" name="NewPhoto" />
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-sm-6">
                            <div class="form-group">
                                @Html.LabelFor(m => m.BirthDate, new { @class = "" })
                                @Html.TextBoxFor(m => m.BirthDate, new { @class = "form-control datePicker", style = "width:90%;", placeholder = "01 Jan 2001" })
                            </div>
                        </div>
                        <div class="col-sm-6">
                            <div class="form-group">
                                @Html.LabelFor(m => m.HireDate, new { @class = "" })
                                @Html.TextBoxFor(m => m.HireDate, new { @class = "form-control datePicker", style = "width:90%;", placeholder = "01 Jan 2015" })
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-sm-12">
                            <div class="form-group">
                                @Html.LabelFor(m => m.Address, new { @class = "" })
                                @Html.TextBoxFor(m => m.Address, new { @class = "form-control", style = "width:95%;", placeholder = "123 Street Ave." })
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-sm-6">
                            <div class="form-group">
                                @Html.LabelFor(m => m.City, new { @class = "" })
                                @Html.TextBoxFor(m => m.City, new { @class = "form-control", style = "width:90%;", placeholder = "New Bacon" })
                            </div>
                        </div>
                        <div class="col-sm-6">
                            <div class="form-group">
                                @Html.LabelFor(m => m.Region, new { @class = "" })
                                @Html.TextBoxFor(m => m.Region, new { @class = "form-control", style = "width:90%;", placeholder = "ON" })
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-sm-6">
                            <div class="form-group">
                                @Html.LabelFor(m => m.PostalCode, new { @class = "" })
                                @Html.TextBoxFor(m => m.PostalCode, new { @class = "form-control", style = "width:90%;", placeholder = "N1N 1N1" })
                            </div>
                        </div>
                        <div class="col-sm-6">
                            <div class="form-group">
                                @Html.LabelFor(m => m.Country, new { @class = "" })
                                @Html.DropDownListFor(m => m.SelectedCountryID, Model.Countries, new { @class = "form-control", style = "width:90%;" })
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-sm-6">
                            <div class="form-group">
                                @Html.LabelFor(m => m.HomePhone, new { @class = "" })
                                @Html.TextBoxFor(m => m.HomePhone, new { @class = "form-control", style = "width:90%;", placeholder = "(999)999-9999" })
                            </div>
                        </div>
                        <div class="col-sm-6">
                            <div class="form-group">
                                @Html.LabelFor(m => m.Extension, new { @class = "" })
                                @Html.TextBoxFor(m => m.Extension, new { @class = "form-control", style = "width:90%;", placeholder = "1234" })
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-sm-6">
                            <div class="form-group">
                                @Html.LabelFor(m => m.Salary, new { @class = "" })
                                @Html.TextBoxFor(m => m.Salary, new { @class = "form-control currenciesOnly", style = "width:90%;", placeholder = "1253.00" })
                            </div>
                        </div>
                        <div class="col-sm-6">

                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm-12">
                            <div class="form-group">
                                @Html.LabelFor(m => m.Notes, new { @class = "" })
                                <textarea name="Notes" id="Notes" style="width:90%">
                                    @Html.Raw(Model.Notes)
                                </textarea>
                            </div>
                        </div>
                    </div>
                </fieldset>

                <div class="form-group">
                    <div class="col-md-offset-2 col-md-10">
                        <input type="submit" class="btn btn-default" value="Add Employee" />
                        @Html.ActionLink("Cancel", "Employees", "Admin", new { @class = "btn btn-default" })
                    </div>
                </div>
            }
        </div>
    </div>

    <div class="col-md-4">
        <div class="well">
            At vero eos et accusamus et iusto odio dignissimos ducimus qui blanditiis
            praesentium voluptatum deleniti atque corrupti quos dolores et quas molestias
            excepturi sint occaecati cupiditate non provident, similique sunt in culpa qui
            officia deserunt mollitia animi.
        </div>
    </div>

</div>


@section Scripts
{
    @Scripts.Render("~/bundles/maskedinput")
    @Scripts.Render("~/Scripts/ckeditor/ckeditor.js")

    <style type="text/css">
    </style>
    <script type="text/javascript">
        jQuery(function ($) {
            $(".number").on('keydown', numbersOnly);
            $(".currenciesOnly").on('keydown', currenciesOnly);

            $(".datePicker").datepicker("option", "dateFormat", "yy-mm-dd");
        });

        //CKEDITOR.replaceClass('form-editor');
        CKEDITOR.replace('Notes', {htmlEncodeOutput: true });
    </script>
}

